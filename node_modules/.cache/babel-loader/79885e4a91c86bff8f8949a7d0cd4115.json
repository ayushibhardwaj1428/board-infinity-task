{"ast":null,"code":"import _objectSpread from\"G:/boardinfinity-task/board-infinity-task/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"G:/boardinfinity-task/board-infinity-task/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"G:/boardinfinity-task/board-infinity-task/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"G:/boardinfinity-task/board-infinity-task/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"G:/boardinfinity-task/board-infinity-task/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{BrowserRouter,Route,Switch}from'react-router-dom';import Home from'../components/Home';import RedirectPage from'../components/RedirectPage';import Dashboard from'../components/Dashboard';import NotFoundPage from'../components/NotFoundPage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AppRouter=/*#__PURE__*/function(_React$Component){_inherits(AppRouter,_React$Component);var _super=_createSuper(AppRouter);function AppRouter(){var _this;_classCallCheck(this,AppRouter);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={expiryTime:'0'};_this.setExpiryTime=function(expiryTime){_this.setState({expiryTime:expiryTime});};_this.isValidSession=function(){var currentTime=new Date().getTime();var expiryTime=_this.state.expiryTime;var isSessionValid=currentTime<expiryTime;return isSessionValid;};return _this;}_createClass(AppRouter,[{key:\"componentDidMount\",value:function componentDidMount(){var expiryTime;try{expiryTime=JSON.parse(localStorage.getItem('expiry_time'));}catch(error){expiryTime='0';}this.setState({expiryTime:expiryTime});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(\"div\",{className:\"main\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,render:function render(props){return/*#__PURE__*/_jsx(Home,_objectSpread({isValidSession:_this2.isValidSession},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/redirect\",render:function render(props){return/*#__PURE__*/_jsx(RedirectPage,_objectSpread({isValidSession:_this2.isValidSession,setExpiryTime:_this2.setExpiryTime},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",render:function render(props){return/*#__PURE__*/_jsx(Dashboard,_objectSpread({isValidSession:_this2.isValidSession},props));}}),/*#__PURE__*/_jsx(Route,{component:NotFoundPage})]})})});}}]);return AppRouter;}(React.Component);export default AppRouter;","map":{"version":3,"sources":["G:/boardinfinity-task/board-infinity-task/src/router/AppRouter.js"],"names":["React","BrowserRouter","Route","Switch","Home","RedirectPage","Dashboard","NotFoundPage","AppRouter","state","expiryTime","setExpiryTime","setState","isValidSession","currentTime","Date","getTime","isSessionValid","JSON","parse","localStorage","getItem","error","props","Component"],"mappings":"2lBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,CAAwBC,KAAxB,CAA+BC,MAA/B,KAA6C,kBAA7C,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,C,2FAEMC,CAAAA,S,mVACJC,K,CAAQ,CACNC,UAAU,CAAE,GADN,C,OAcRC,a,CAAgB,SAACD,UAAD,CAAgB,CAC9B,MAAKE,QAAL,CAAc,CAAEF,UAAU,CAAVA,UAAF,CAAd,EACD,C,OAEDG,c,CAAiB,UAAM,CACrB,GAAMC,CAAAA,WAAW,CAAG,GAAIC,CAAAA,IAAJ,GAAWC,OAAX,EAApB,CACA,GAAMN,CAAAA,UAAU,CAAG,MAAKD,KAAL,CAAWC,UAA9B,CACA,GAAMO,CAAAA,cAAc,CAAGH,WAAW,CAAGJ,UAArC,CAEA,MAAOO,CAAAA,cAAP,CACD,C,sEApBD,4BAAoB,CAClB,GAAIP,CAAAA,UAAJ,CACA,GAAI,CACFA,UAAU,CAAGQ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAAb,CACD,CAAC,MAAOC,KAAP,CAAc,CACdZ,UAAU,CAAG,GAAb,CACD,CACD,KAAKE,QAAL,CAAc,CAAEF,UAAU,CAAVA,UAAF,CAAd,EACD,C,sBAcD,iBAAS,iBACP,mBACE,KAAC,aAAD,wBACE,YAAK,SAAS,CAAC,MAAf,uBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EACE,IAAI,CAAC,GADP,CAEE,KAAK,CAAE,IAFT,CAGE,MAAM,CAAE,gBAACa,KAAD,qBACN,KAAC,IAAD,gBAAM,cAAc,CAAE,MAAI,CAACV,cAA3B,EAA+CU,KAA/C,EADM,EAHV,EADF,cAQE,KAAC,KAAD,EACE,IAAI,CAAC,WADP,CAEE,MAAM,CAAE,gBAACA,KAAD,qBACN,KAAC,YAAD,gBACE,cAAc,CAAE,MAAI,CAACV,cADvB,CAEE,aAAa,CAAE,MAAI,CAACF,aAFtB,EAGMY,KAHN,EADM,EAFV,EARF,cAkBE,KAAC,KAAD,EACE,IAAI,CAAC,YADP,CAEE,MAAM,CAAE,gBAACA,KAAD,qBACN,KAAC,SAAD,gBAAW,cAAc,CAAE,MAAI,CAACV,cAAhC,EAAoDU,KAApD,EADM,EAFV,EAlBF,cAwBE,KAAC,KAAD,EAAO,SAAS,CAAEhB,YAAlB,EAxBF,GADF,EADF,EADF,CAgCD,C,uBA5DqBP,KAAK,CAACwB,S,EA+D9B,cAAehB,CAAAA,SAAf","sourcesContent":["import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Home from '../components/Home';\nimport RedirectPage from '../components/RedirectPage';\nimport Dashboard from '../components/Dashboard';\nimport NotFoundPage from '../components/NotFoundPage';\n\nclass AppRouter extends React.Component {\n  state = {\n    expiryTime: '0'\n  };\n\n  componentDidMount() {\n    let expiryTime;\n    try {\n      expiryTime = JSON.parse(localStorage.getItem('expiry_time'));\n    } catch (error) {\n      expiryTime = '0';\n    }\n    this.setState({ expiryTime });\n  }\n\n  setExpiryTime = (expiryTime) => {\n    this.setState({ expiryTime });\n  };\n\n  isValidSession = () => {\n    const currentTime = new Date().getTime();\n    const expiryTime = this.state.expiryTime;\n    const isSessionValid = currentTime < expiryTime;\n\n    return isSessionValid;\n  };\n\n  render() {\n    return (\n      <BrowserRouter>\n        <div className=\"main\">\n          <Switch>\n            <Route\n              path=\"/\"\n              exact={true}\n              render={(props) => (\n                <Home isValidSession={this.isValidSession} {...props} />\n              )}\n            />\n            <Route\n              path=\"/redirect\"\n              render={(props) => (\n                <RedirectPage\n                  isValidSession={this.isValidSession}\n                  setExpiryTime={this.setExpiryTime}\n                  {...props}\n                />\n              )}\n            />\n            <Route\n              path=\"/dashboard\"\n              render={(props) => (\n                <Dashboard isValidSession={this.isValidSession} {...props} />\n              )}\n            />\n            <Route component={NotFoundPage} />\n          </Switch>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default AppRouter;\n"]},"metadata":{},"sourceType":"module"}